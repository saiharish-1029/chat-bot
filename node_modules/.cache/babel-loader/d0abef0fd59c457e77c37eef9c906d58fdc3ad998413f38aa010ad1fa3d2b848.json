{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nconst useRecorder = () => {\n  _s();\n  const [audioURL, setAudioURL] = useState(\"\");\n  const [audio, setAudio] = useState(null);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recorder, setRecorder] = useState(null);\n  useEffect(() => {\n    // Lazily obtain recorder first time we're recording.\n    if (recorder === null) {\n      if (isRecording) {\n        requestRecorder().then(setRecorder, console.error);\n      }\n      return;\n    }\n\n    // Manage recorder state.\n    if (isRecording) {\n      recorder.start();\n    } else {\n      recorder.stop();\n    }\n\n    // Obtain the audio when ready.\n    const handleData = e => {\n      setAudio(e);\n      setAudioURL(URL.createObjectURL(e.data));\n      console.log(audioURL, audio);\n    };\n    recorder.addEventListener(\"dataavailable\", handleData);\n    return () => recorder.removeEventListener(\"dataavailable\", handleData);\n  }, [recorder, isRecording]);\n  const startRecording = () => {\n    setIsRecording(true);\n  };\n  const stopRecording = () => {\n    setIsRecording(false);\n  };\n  return [audioURL, isRecording, startRecording, stopRecording, audio];\n};\n_s(useRecorder, \"23EVZctpsZgEY6YsQFmqo4nGTao=\");\nasync function requestRecorder() {\n  const stream = await navigator.mediaDevices.getUserMedia({\n    audio: true\n  });\n  return new MediaRecorder(stream);\n}\nexport default useRecorder;","map":{"version":3,"names":["useEffect","useState","useRecorder","_s","audioURL","setAudioURL","audio","setAudio","isRecording","setIsRecording","recorder","setRecorder","requestRecorder","then","console","error","start","stop","handleData","e","URL","createObjectURL","data","log","addEventListener","removeEventListener","startRecording","stopRecording","stream","navigator","mediaDevices","getUserMedia","MediaRecorder"],"sources":["/workspace/chat-bot/src/useRecorder.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst useRecorder = () => {\n    const [audioURL, setAudioURL] = useState(\"\");\n    const [audio, setAudio] = useState(null);\n    const [isRecording, setIsRecording] = useState(false);\n    const [recorder, setRecorder] = useState(null);\n\n    useEffect(() => {\n        // Lazily obtain recorder first time we're recording.\n        if (recorder === null) {\n            if (isRecording) {\n                requestRecorder().then(setRecorder, console.error);\n            }\n            return;\n        }\n\n        // Manage recorder state.\n        if (isRecording) {\n            recorder.start();\n        } else {\n            recorder.stop();\n        }\n\n        // Obtain the audio when ready.\n        const handleData = e => {\n            setAudio(e);\n            setAudioURL(URL.createObjectURL(e.data));\n            console.log(audioURL, audio)\n        };\n\n        recorder.addEventListener(\"dataavailable\", handleData);\n        return () => recorder.removeEventListener(\"dataavailable\", handleData);\n    }, [recorder, isRecording]);\n\n    const startRecording = () => {\n        setIsRecording(true);\n    };\n\n    const stopRecording = () => {\n        setIsRecording(false);\n    };\n\n    return [audioURL, isRecording, startRecording, stopRecording, audio];\n};\n\nasync function requestRecorder() {\n    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n    return new MediaRecorder(stream);\n}\nexport default useRecorder;\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACZ;IACA,IAAIU,QAAQ,KAAK,IAAI,EAAE;MACnB,IAAIF,WAAW,EAAE;QACbI,eAAe,CAAC,CAAC,CAACC,IAAI,CAACF,WAAW,EAAEG,OAAO,CAACC,KAAK,CAAC;MACtD;MACA;IACJ;;IAEA;IACA,IAAIP,WAAW,EAAE;MACbE,QAAQ,CAACM,KAAK,CAAC,CAAC;IACpB,CAAC,MAAM;MACHN,QAAQ,CAACO,IAAI,CAAC,CAAC;IACnB;;IAEA;IACA,MAAMC,UAAU,GAAGC,CAAC,IAAI;MACpBZ,QAAQ,CAACY,CAAC,CAAC;MACXd,WAAW,CAACe,GAAG,CAACC,eAAe,CAACF,CAAC,CAACG,IAAI,CAAC,CAAC;MACxCR,OAAO,CAACS,GAAG,CAACnB,QAAQ,EAAEE,KAAK,CAAC;IAChC,CAAC;IAEDI,QAAQ,CAACc,gBAAgB,CAAC,eAAe,EAAEN,UAAU,CAAC;IACtD,OAAO,MAAMR,QAAQ,CAACe,mBAAmB,CAAC,eAAe,EAAEP,UAAU,CAAC;EAC1E,CAAC,EAAE,CAACR,QAAQ,EAAEF,WAAW,CAAC,CAAC;EAE3B,MAAMkB,cAAc,GAAGA,CAAA,KAAM;IACzBjB,cAAc,CAAC,IAAI,CAAC;EACxB,CAAC;EAED,MAAMkB,aAAa,GAAGA,CAAA,KAAM;IACxBlB,cAAc,CAAC,KAAK,CAAC;EACzB,CAAC;EAED,OAAO,CAACL,QAAQ,EAAEI,WAAW,EAAEkB,cAAc,EAAEC,aAAa,EAAErB,KAAK,CAAC;AACxE,CAAC;AAACH,EAAA,CA1CID,WAAW;AA4CjB,eAAeU,eAAeA,CAAA,EAAG;EAC7B,MAAMgB,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;IAAEzB,KAAK,EAAE;EAAK,CAAC,CAAC;EACzE,OAAO,IAAI0B,aAAa,CAACJ,MAAM,CAAC;AACpC;AACA,eAAe1B,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}